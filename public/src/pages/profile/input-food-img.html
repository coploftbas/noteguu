<link rel="import" href="../../../bower_components/polymer/polymer.html">


<dom-module id="input-food-img">
    
    <template>
        <style is="custom-style">

        </style>
        <template is="dom-if" if="[[imgName]]">
            <img width="100px" height="100px" src$="[[path]]">
        </template>
    </template>
    <script>
        Polymer({
            is:'input-food-img',
            properties:{
                imgName:{
                    type:'String',
                    observer:'_imgNameChanged'
                }
            },
            _imgNameChanged:function(val){
                
                if(val!=""){
                    var storageRef = firebase.app('food').storage().ref();
                    var forestRef = storageRef.child('images/'+val);
                    forestRef.getMetadata().then((metadata)=>{
                        //console.log(metadata.downloadURLs[0]);
                        this.path = metadata.downloadURLs[0];
                    }).catch(function(error) {
                        console.log(error);
                    });
                }else{

                }
                
            }
        });
    </script>
</dom-module>